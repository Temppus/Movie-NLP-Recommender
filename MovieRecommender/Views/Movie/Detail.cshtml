@model MovieRecommender.Models.MovieDetailModel

@{
    ViewBag.Title = Model.Title;
}

<div class="ui grid" id="resultGrid">
    <div class="row">
        <!-- Image column -->
        <div class="four wide column">
            <div class="row">
                <img alt="Film poster" src="@Url.Content(Model.ImageURI)" id="posterImgId" class="ui centered medium image" />
            </div>
            <div class="row">
                <a href="http://www.imdb.com/title/@Model.IMDBId" target="_blank" id="imdbLinkId">IMDb link</a>
            </div>
        </div>

        <!-- Film info column -->
        <div class="twelve wide column">
            <div class="ui grid">

                <!-- Title -->
                <div class="row">
                    <div class="wide row">
                        <div class="ui medium header" id="titleId">@Model.Title</div>
                        <div class="ui grid">
                            <div class="twelve wide column">
                                <div class="ui star rating" data-rating=@Math.Floor(Model.Rating).ToString() id="ratingId">
                                </div>
                            </div>
                            <div class="two wide column" id="ratingNumberId">
                                @Model.Rating
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Director -->
                <div class="row">
                    <div class="ui small header" id="directorDivId">
                        Director
                        <button class="tiny ui button">@Model.Director</button>
                    </div>
                </div>

                <!-- Genres -->
                <div class="row">
                    <div class="ui small header" id="genresDivId">
                        Genres
                        @foreach (string genre in Model.Genres)
                        {
                            <button class="tiny ui button" id="genreId">@genre</button>
                        }
                    </div>

                </div>

                <!-- Overview -->
                <div class="row">
                    <div class="wide row">
                        <div class="ui small header">Overview</div>
                        <p id="overviewId">@Model.Overview</p>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

@if (!string.IsNullOrEmpty(Model.TrailerImageURI))
{
    <h4 class="ui horizontal divider header">
        <i class="tag icon"></i>
        Trailer
    </h4>

    <div class="ui grid centered">
            <a href="http://www.imdb.com/@Model.TrailerVideoURI" target="_blank">
                <img alt="Trailer" title="Trailer" src="@Url.Content(Model.TrailerImageURI)" itemprop="image">
            </a>
    </div>

}

<h4 class="ui horizontal divider header">
    <i class="tag icon"></i>
    Actors
</h4>

<div class="ui horizontal segments">

    @foreach (var actor in Model.ActorsInfo)
    {
        <div class="ui center aligned segment">
            <img class="ui avatar small image centered" src=@actor.ImageURI>
            <div class="content">
                <div class="header"><strong>@actor.ActorName</strong></div>
                <strong>As</strong> @actor.As
            </div>
        </div>
    }
</div>

<script>
    $('.rating').rating({
        initialRating: 5,
        maxRating: 10,
        interactive: false
    });
</script>
